{#
Publication Action Buttons Macro
Usage: {% include "shortcodes/pub-buttons.html" %}
Expects a 'pub' variable with page.extra fields

Supported fields (all optional):
- paper_url: PDF or paper link (external or local path starting with /)
- doi: DOI identifier
- poster_url: Poster PDF (external or local path starting with /)
- slides_url: Slides/presentation (external or local path starting with /)  
- video_url: Video recording
- code_url: Code repository (GitHub, GitLab, etc.)
- website_url: Project website
- blog_url: Related blog post (internal link)

For local assets, use paths starting with / e.g., /files/my-paper.pdf
For external links, use full URLs e.g., https://example.com/paper.pdf
#}

{# Paper/PDF - Document icon #}
{% if pub.extra.paper_url %}
{% set is_local = pub.extra.paper_url is starting_with("/") or pub.extra.paper_url is starting_with("files/") %}
<a href="{% if is_local %}{{ get_url(path=pub.extra.paper_url) }}{% else %}{{ pub.extra.paper_url }}{% endif %}" 
   {% if not is_local %}target="_blank" rel="noopener"{% endif %} 
   class="pub-btn pub-btn--paper" title="Paper">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
    </svg>
    <span>Paper</span>
</a>
{% endif %}

{# DOI - Link/globe icon #}
{% if pub.extra.doi %}
<a href="https://doi.org/{{ pub.extra.doi }}" target="_blank" rel="noopener" 
   class="pub-btn pub-btn--doi" title="DOI">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
    </svg>
    <span>DOI</span>
</a>
{% endif %}

{# Poster - Presentation board icon #}
{% if pub.extra.poster_url %}
{% set is_local = pub.extra.poster_url is starting_with("/") or pub.extra.poster_url is starting_with("files/") %}
<a href="{% if is_local %}{{ get_url(path=pub.extra.poster_url) }}{% else %}{{ pub.extra.poster_url }}{% endif %}"
   {% if not is_local %}target="_blank" rel="noopener"{% endif %}
   class="pub-btn pub-btn--poster" title="Poster">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-7-2h2v-4h4v-2h-4V7h-2v4H8v2h4z"/>
    </svg>
    <span>Poster</span>
</a>
{% endif %}

{# Slides - Slideshow icon #}
{% if pub.extra.slides_url %}
{% set is_local = pub.extra.slides_url is starting_with("/") or pub.extra.slides_url is starting_with("files/") %}
<a href="{% if is_local %}{{ get_url(path=pub.extra.slides_url) }}{% else %}{{ pub.extra.slides_url }}{% endif %}"
   {% if not is_local %}target="_blank" rel="noopener"{% endif %}
   class="pub-btn pub-btn--slides" title="Slides">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M10 9v6l5-3-5-3zm9-7H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 16H5V4h14v14z"/>
    </svg>
    <span>Slides</span>
</a>
{% endif %}

{# Video - Play button icon #}
{% if pub.extra.video_url %}
<a href="{{ pub.extra.video_url }}" target="_blank" rel="noopener" 
   class="pub-btn pub-btn--video" title="Video">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 5v14l11-7z"/>
    </svg>
    <span>Video</span>
</a>
{% endif %}

{# Code - Brackets icon #}
{% if pub.extra.code_url %}
<a href="{{ pub.extra.code_url }}" target="_blank" rel="noopener" 
   class="pub-btn pub-btn--code" title="Code">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>
    </svg>
    <span>Code</span>
</a>
{% endif %}

{# Website - Globe icon #}
{% if pub.extra.website_url %}
<a href="{{ pub.extra.website_url }}" target="_blank" rel="noopener" 
   class="pub-btn pub-btn--website" title="Website">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>
    </svg>
    <span>Website</span>
</a>
{% endif %}

{# Blog - Article icon #}
{% if pub.extra.blog_url %}
<a href="{{ pub.extra.blog_url }}" class="pub-btn pub-btn--blog" title="Blog Post">
    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
    </svg>
    <span>Blog</span>
</a>
{% endif %}
